"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.replaceAwsConfig = void 0;
const getObjectWithUpdatedAwsConfigKeys_1 = require("./getObjectWithUpdatedAwsConfigKeys");
const replaceAwsConfig = (j, source, v2GlobalName) => {
    if (!v2GlobalName)
        return;
    source
        .find(j.NewExpression, {
        callee: {
            type: "MemberExpression",
            object: { type: "Identifier", name: v2GlobalName },
            property: { type: "Identifier", name: "Config" },
        },
    })
        .filter(({ node }) => node.arguments.length === 1 && node.arguments[0].type === "ObjectExpression")
        .replaceWith(({ node }) => (0, getObjectWithUpdatedAwsConfigKeys_1.getObjectWithUpdatedAwsConfigKeys)(j, node.arguments[0]));
};
exports.replaceAwsConfig = replaceAwsConfig;
